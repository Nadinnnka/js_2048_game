{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nlet board;\nlet score = 0;\nconst rows = 4;\nconst columns = 4;\nlet hasWon = false;\nconst messageStart = document.querySelector('.message-start');\nconst messageLose = document.querySelector('.message-lose');\nconst messageWin = document.querySelector('.message-win');\n\nfunction initializeBoard() {\n  return Array.from({ length: rows }, () => Array(columns).fill(0));\n}\n\nfunction createTile(r, c) {\n  const tile = document.createElement('div');\n\n  tile.id = r + '-' + c;\n  document.getElementById('board').append(tile);\n\n  return tile;\n}\n\nfunction setGame() {\n  board = initializeBoard();\n\n  for (let r = 0; r < rows; r++) {\n    for (let c = 0; c < columns; c++) {\n      const tile = createTile(r, c);\n\n      updateTile(tile, board[r][c]);\n    }\n  }\n}\n\nfunction restartGame() {\n  board = initializeBoard();\n  score = 0;\n\n  for (let r = 0; r < rows; r++) {\n    for (let c = 0; c < columns; c++) {\n      const tile = document.getElementById(r + '-' + c);\n\n      updateTile(tile, board[r][c]);\n    }\n  }\n\n  setTwo();\n  setTwo();\n\n  document.getElementById('score').innerText = score;\n\n  messageLose.style.display = 'none';\n}\n\nfunction startGame() {\n  restartGame();\n  messageStart.style.display = 'none';\n  document.getElementById('startButton').textContent = 'Restart';\n\n  const buttonReset = document.querySelector('.start');\n\n  buttonReset.classList.remove('start');\n  buttonReset.classList.add('restart');\n}\n\nfunction updateTile(tile, num) {\n  tile.innerText = '';\n  tile.className = 'tile';\n\n  if (num > 0) {\n    tile.innerText = num.toString();\n\n    if (num === 2048) {\n      hasWon = true;\n    }\n\n    if (num <= 4096) {\n      tile.classList.add('x' + num.toString());\n    } else {\n      tile.classList.add('x8192');\n    }\n  }\n}\n\nfunction isGameOver() {\n  return !hasEmptyTile() && !canAddNumbers();\n}\n\nfunction canAddNumbers() {\n  for (let r = 0; r < rows; r++) {\n    for (let c = 0; c < columns; c++) {\n      if ((c < columns - 1 && board[r][c] === board[r][c + 1])\n        || (r < rows - 1 && board[r][c] === board[r + 1][c])) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\nfunction filterZero(row) {\n  return row.filter(num => num !== 0);\n}\n\nfunction slide(rowSlide) {\n  let row = rowSlide;\n\n  row = filterZero(row);\n\n  for (let i = 0; i < row.length - 1; i++) {\n    if (row[i] === row[i + 1]) {\n      row[i] *= 2;\n      row[i + 1] = 0;\n      score += row[i];\n    }\n  }\n\n  row = filterZero(row);\n\n  while (row.length < columns) {\n    row.push(0);\n  }\n\n  return row;\n}\n\nfunction slideLeft() {\n  const originalBoard = JSON.stringify(board);\n\n  for (let r = 0; r < rows; r++) {\n    let row = board[r];\n\n    row = slide(row);\n    board[r] = row;\n\n    for (let c = 0; c < columns; c++) {\n      const tile = document.getElementById(r + '-' + c);\n      const num = board[r][c];\n\n      updateTile(tile, num);\n    }\n  }\n\n  if (JSON.stringify(board) !== originalBoard) {\n    setTwo();\n  }\n}\n\nfunction slideRight() {\n  const originalBoard = JSON.stringify(board);\n\n  for (let r = 0; r < rows; r++) {\n    let row = board[r];\n\n    row.reverse();\n    row = slide(row);\n    board[r] = row.reverse();\n\n    for (let c = 0; c < columns; c++) {\n      const tile = document.getElementById(r + '-' + c);\n      const num = board[r][c];\n\n      updateTile(tile, num);\n    }\n  }\n\n  if (JSON.stringify(board) !== originalBoard) {\n    setTwo();\n  }\n}\n\nfunction slideUp() {\n  const originalBoard = JSON.stringify(board);\n\n  for (let c = 0; c < columns; c++) {\n    let row = [board[0][c], board[1][c], board[2][c], board[3][c]];\n\n    row = slide(row);\n\n    for (let r = 0; r < rows; r++) {\n      board[r][c] = row[r];\n\n      const tile = document.getElementById(r + '-' + c);\n      const num = board[r][c];\n\n      updateTile(tile, num);\n    }\n  }\n\n  if (JSON.stringify(board) !== originalBoard) {\n    setTwo();\n  }\n}\n\nfunction slideDown() {\n  const originalBoard = JSON.stringify(board);\n\n  for (let c = 0; c < columns; c++) {\n    let row = [board[0][c], board[1][c], board[2][c], board[3][c]];\n\n    row.reverse();\n    row = slide(row);\n    row.reverse();\n\n    for (let r = 0; r < rows; r++) {\n      board[r][c] = row[r];\n\n      const tile = document.getElementById(r + '-' + c);\n      const num = board[r][c];\n\n      updateTile(tile, num);\n    }\n  }\n\n  if (JSON.stringify(board) !== originalBoard) {\n    setTwo();\n  }\n}\n\nfunction setTwo() {\n  if (!hasEmptyTile()) {\n    return;\n  }\n\n  let found = false;\n\n  while (!found) {\n    const r = Math.floor(Math.random() * rows);\n    const c = Math.floor(Math.random() * columns);\n\n    if (board[r][c] === 0) {\n      board[r][c] = 2;\n\n      const tile = document.getElementById(r + '-' + c);\n\n      tile.innerText = '2';\n      tile.classList.add('x2');\n      found = true;\n    }\n  }\n}\n\nfunction hasEmptyTile() {\n  for (let r = 0; r < rows; r++) {\n    for (let c = 0; c < columns; c++) {\n      if (board[r][c] === 0) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  setGame();\n\n  const button = document.getElementById('startButton');\n\n  button.textContent = 'Start';\n  button.addEventListener('click', startGame);\n});\n\ndocument.addEventListener('keyup', (e) => {\n  if (e.code === 'ArrowLeft') {\n    slideLeft();\n  } else if (e.code === 'ArrowRight') {\n    slideRight();\n  } else if (e.code === 'ArrowUp') {\n    slideUp();\n  } else if (e.code === 'ArrowDown') {\n    slideDown();\n  }\n\n  if (isGameOver()) {\n    messageLose.classList.add('text-centered');\n\n    setTimeout(() => {\n      messageLose.style.display = 'block';\n      messageLose.classList.remove('text-centered');\n      messageLose.classList.add('text-hidden');\n    }, 1000);\n\n    setTimeout(() => {\n      messageStart.textContent = 'Press \"Restart\" to begin game. Good luck!';\n      messageStart.style.display = 'block';\n    }, 2000);\n  }\n\n  if (hasWon) {\n    messageWin.style.opacity = '1';\n  }\n  document.getElementById('score').innerText = score;\n});\n\n// eslint-disable-next-line no-unused-vars\nfunction toggleRule() {\n  const rule = document.getElementById('rule');\n\n  rule.classList.toggle('rule-visible');\n}\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}